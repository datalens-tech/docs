---
title: Как создать подключение к {{ ydb-name }} в {{ datalens-full-name }}
description: Следуя данной инструкции, вы сможете создать подключение к {{ ydb-name }} в {{ datalens-full-name }}.
---

# Создание подключения к {{ ydb-short-name }} в {{ datalens-full-name }}

{% note info %}


Для написания подзапросов в датасетах и запросов в QL-чартах используйте [синтаксис YQL]({{ ydb.docs }}/yql/reference/syntax/).

{% endnote %}

Чтобы создать подключение к {{ ydb-short-name }}:



1. Перейдите на страницу [воркбука](../../workbooks-collections/index.md) или создайте новый.
1. В правом верхнем углу нажмите **Создать** → **Подключение**.
1. Выберите подключение **{{ ydb-short-name }}**.
1. Выберите тип аутентификации:

   {% list tabs group=auth-type %}

   - Анонимный {#anonymous}

     * **Имя хоста**. Укажите путь до хоста {{ ydb-short-name }}.
     * **Порт**. Укажите порт подключения к {{ ydb-short-name }}. Порт по умолчанию — 2135.
     * **Путь к базе данных**. Укажите имя подключаемой базы данных.

   - Пароль {#password}

     * **Имя хоста**. Укажите путь до хоста {{ ydb-short-name }}.
     * **Порт**. Укажите порт подключения к {{ ydb-short-name }}. Порт по умолчанию — 2135.
     * **Путь к базе данных**. Укажите имя подключаемой базы данных.
     * **Имя пользователя**. Укажите имя пользователя для подключения к {{ ydb-short-name }}.
     * **Пароль**. Укажите пароль для пользователя.

   - OAuth {#oauth}

     * **OAuth-токен**. Укажите OAuth-токен для работы с {{ ydb-short-name }}.
     * **Имя хоста**. Укажите путь до хоста {{ ydb-short-name }}.
     * **Порт**. Укажите порт подключения к {{ ydb-short-name }}. Порт по умолчанию — 2135.
     * **Путь к базе данных**. Укажите имя подключаемой базы данных.

   {% endlist %}

   * **Время жизни кеша в секундах**. Укажите время жизни кеша или оставьте значение по умолчанию. Рекомендованное значение — 300 секунд (5 минут).
   * **Уровень доступа SQL запросов**. Позволяет использовать произвольный SQL-запрос для [формирования датасета](../../dataset/settings.md#sql-request-in-datatset).

1. Нажмите кнопку **Создать подключение**.
1. Укажите название подключения и нажмите кнопку **Создать**.


## Дополнительные настройки {#additional-settings}

Вы можете указать дополнительные параметры подключения в разделе **Продвинутые настройки подключения**:

* **TLS** — опция определяет необходимость использования протокола TLS. Когда опция включена, использование SSL для подключения становится обязательным.
* **CA Certificate** — чтобы загрузить сертификат, нажмите кнопку **Прикрепить файл** и укажите файл сертификата. Когда сертификат загружен, поле отображает название файла.


{% cut "Ошибка RESOURCE_EXHAUSTED" %}

При превышении квот и лимитов {{ ydb-name }} может появиться сообщение об ошибке `RESOURCE_EXHAUSTED`. Чтобы избежать появления ошибки, придерживайтесь следующих рекомендаций:

* Снизьте интенсивность запросов. Например, используйте фильтры, указывайте в чартах только необходимые поля для ограничения количества получаемых данных.
* Выполните [рекомендации по оптимизации](../../concepts/optimization_recommendations.md) запросов к базе данных.
* Проанализируйте время загрузки и объем данных с помощью [инспектора чартов](../../concepts/chart/inspector.md) в {{ datalens-short-name }}.
* Проверьте графики мониторинга {{ ydb-name }} на предмет превышения квот и лимитов. При необходимости немного увеличьте только пропускную способность (Request Units) в блоке **{{ ui-key.yacloud.ydb.overview.label_serverless-limits }}**.

{% endcut %}
