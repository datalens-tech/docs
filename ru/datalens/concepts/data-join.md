---
title: Объединение данных {{ datalens-full-name }}
description: При создании дашборда в {{ datalens-full-name }} часто используется связь, которая определяет влияние селектора на один или несколько чартов, а также на другие селекторы. Связь позволяет фильтровать значения селекторов и чартов. В статье описывается, как  объединить данные из разных датасетов для настройки связи между виджетами.
---

# Объединение данных {{ datalens-full-name }}

{{ datalens-full-name }} использует [подключение](connection.md), чтобы получить данные из источника . На основе предоставленных подключением данных можно создавать датасеты, чарты и селекторы. Если в источнике доступно несколько таблиц, вы можете объединять их для получения необходимого набора данных. Связать данные из разных датасетов можно на уровне чарта или через связь селекторов.

## Способы объединения данных {#data-join}

Вы можете воспользоваться различными вариантами объединения данных:

* [На уровне датасета](#dataset-join)

  * [Добавление таблиц](#ui-join)
  * [SQL-запрос](#sql-join)

* [На уровне чарта](#chart-join)


* [На уровне связей селекторов](#selector-join)

### На уровне датасета {#dataset-join}

Чтобы объединить данные на уровне датасета, вы можете [добавить таблицы](#ui-join) на рабочую область или написать [SQL-запрос](#sql-join).

{% note warning %}

Нельзя объединить данные из разных источников на уровне одного датасета.

{% endnote %}

#### Добавление таблиц {#ui-join}

В интерфейсе создания датасета можно [объединять данные](../dataset/create-dataset.md#links), перетаскивая таблицы на рабочую область и настраивая связи между ними через [оператор JOIN](../dataset/data-model.md#source).

{% include [data-join-duplicate-fields-note](../../_includes/datalens/datalens-data-join-duplicate-fields-note.md) %}

#### SQL-запрос {#sql-join}

В датасете можно добавить [произвольный SQL-запрос](../dataset/settings.md#sql-request-in-datatset) к источнику данных. Текст запроса при обращении к источнику исполняется в виде подзапроса. Результат запроса можно использовать как итоговый набор данных датасета или объединить с другими таблицами источника через интерфейс.

### На уровне чарта {#chart-join}


Для объединения данных на уровне чарта вы можете использовать [QL-чарт](#sql-chart).


#### QL-чарт {#sql-chart}

[QL-чарты](chart/index.md#sql-charts) — чарты, созданные на основе подключения, если источник подключения — БД. При выполнении SQL-запроса отдельный объект Датасет не создается, он генерируется сразу и отображается на панели превью. Подробнее см. инструкцию [{#T}](../operations/chart/create-sql-chart.md).


### На уровне связей селекторов {#selector-join}

Можно добавить на дашборд селектор, который влияет на результаты запросов в связанных с ним виджетах:

* на дашборде селекторы и чарты, построенные на основе одного датасета, связываются автоматически;
* селекторы и чарты, построенные на основе разных датасетов, можно связать вручную с помощью алиасов.

Перед созданием связи убедитесь, что поле, по которому фильтрует селектор, присутствует в датасете, по которому построен чарт. В противном случае связь работать не будет. Подробнее см. инструкцию [{#T}](../operations/dashboard/create-alias.md).


